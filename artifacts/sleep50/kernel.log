cp disk.img build/disk_run.img
qemu-system-riscv64 \
  -machine virt \
  -smp 1 \
  -bios none \
  -kernel kernel.elf \
  -append "sleep50" \
  -drive file=build/disk_run.img,if=none,format=raw,id=hd0 \
  -device virtio-blk-device,drive=hd0 \
  -nographic
workload=sleep50
dtb=0x0000000087e00000 bootargs='sleep50'
workload=sleep50
va 0x0000000080000000: pte=0x000000002000004b pa=0x0000000080000000 flags=0x000000000000004b
va 0x0000000080015000: pte=0x0000000020005443 pa=0x0000000080015000 flags=0x0000000000000043
va 0x0000000080017000: pte=0x0000000020005cc7 pa=0x0000000080017000 flags=0x00000000000000c7
va 0x0000000010000000: pte=0x00000000040000c7 pa=0x0000000010000000 flags=0x00000000000000c7
va 0x0000000000000000: no pte
virtio: found block device at 0x0000000010008000
virtio: MMIO version 1
virtio: found block device
virtio: device features: 0x0000000031006ed4
virtio: max queue size = 1024, using 8
virtio: block device initialized
buf: cache initialized with 30 buffers
fs: mounted (v1, 16384 blocks, 1638 inodes)
tiny-os booted
fs: testing filesystem...
fs: TEST 1 - Creating /mydir...
fs: OK - created /mydir (inum=2)
fs: TEST 2 - Creating /mydir/hello.txt...
fs: OK - created /mydir/hello.txt with 'Hello from subdirectory!'
fs: TEST 3 - Reading /mydir/hello.txt...
fs: OK - read: 'Hello from subdirectory!'
fs: TEST 4 - Creating /mydir/subdir...
fs: OK - created /mydir/subdir (inum=4)
fs: TEST 5 - Creating /mydir/subdir/deep.txt...
fs: OK - created deep.txt
fs: Verified: 'Deep nested file!'
fs: Filesystem tests complete!
btree: testing btree...
btree: OK
btree: testing persistence...
btree: persisted root=135
extent: testing extent allocator...
extent: OK (alloc 137 len 8)
tree: testing root tree...
tree: OK (extent=136 fs=16383)
fs_tree: testing fs tree...
fs_tree_file_write: ino=100 off=0 n=13 size=0
fs_tree_file_write: alloc blocks=1 pos=0
fs_tree_file_write: ino=100 off=2048 n=14 size=13
fs_tree_file_write: alloc blocks=1 pos=2048
fs_tree_create_file: path='/rename_a'
fs_tree_create_file: ok ino=2 name='rename_a'
fs_tree_create_file: path='/a'
fs_tree_create_file: ok ino=4 name='a'
fs_tree_create_file: path='/b'
fs_tree_create_file: ok ino=5 name='b'
fs_tree: OK
fs_tree_create_file: path='/bin/testC'
fs_tree_create_file: ok ino=7 name='testC'
fs_tree_file_write: ino=7 off=0 n=5984 size=0
fs_tree_file_write: alloc blocks=6 pos=0
fs_tree_create_file: path='/bin/testD'
fs_tree_create_file: ok ino=8 name='testD'
fs_tree_file_write: ino=8 off=0 n=6144 size=0
fs_tree_file_write: alloc blocks=6 pos=0
fs_tree_create_file: path='/bin/testE'
fs_tree_create_file: ok ino=9 name='testE'
fs_tree_file_write: ino=9 off=0 n=7592 size=0
fs_tree_file_write: alloc blocks=8 pos=0
fs_tree_create_file: path='/bin/testF'
fs_tree_create_file: ok ino=10 name='testF'
fs_tree_file_write: ino=10 off=0 n=8240 size=0
fs_tree_file_write: alloc blocks=9 pos=0
fs_tree_create_file: path='/bin/run_workload'
fs_tree_create_file: ok ino=11 name='run_workload'
fs_tree_file_write: ino=11 off=0 n=8320 size=0
fs_tree_file_write: alloc blocks=9 pos=0
spawned init user proc (ELF) len=12144
firstrun: pid=0 epc=0x0000000000010000 sp=0x0000003fffffe000
sys_exec: pid=0 path='/bin/run_workload'
proc_exec: pid=0 entry=0x0000000000010000 sz=8320
sys_exec: proc_exec r=0
READY
get_workload bytes=
WORKLOAD=sleep50
METRICS_BEGIN
{
  "workload": "sleep50",
  "workload_version": 1,
  "sleep_ticks": 50,
  "version": 1,
  "ticks": 76,
  "syscall_enter": 10,
  "syscall_exit": 9,
  "ctx_switches": 51,
  "page_faults": 0,
  "disk_reads": 858,
  "disk_writes": 4876,
  "disk_read_bytes": 439296,
  "disk_write_bytes": 2496512
}
METRICS_END
DONE 0
qemu-system-riscv64: terminating on signal 15 from pid 1673659 (python3)
make: *** [Makefile:409: run-fresh] Terminated
